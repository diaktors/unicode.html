<html>
  <head>
    <meta charset="utf-8" />
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.5/angular.min.js"></script>
    <script src="unicode.js"></script>
    <script>
      function UnicodeCtrl($scope, $location) {
        $scope.filter = ''; //$location.path().substr(1);
        $scope.regexps = function () {
          //$location.path($scope.filter);
          return $scope.filter.split(/\s+/).map(function (i) {
            return new RegExp(i, 'i');
          });
        }
        $scope.filteredChars = function () {
          var regexps = $scope.regexps();
          return unicode.filter(function (c) {
            for (var i = 0; i < regexps.length; i++) {
              var re = regexps[i];
              if (!(c.n.match(re) || c.c.match(re) || c.cpt.toString(16).match(re)))
              return false;
            }
            return true;
          }).slice(0, 1024);
        }
        $scope.gotoFileFormat = function () {
          document.location = 'http://www.fileformat.info/info/unicode/char/' + this.c.cpt.toString(16);
        }
      }
    </script>
    <style type="text/css">
      body {
        font-family: "DejaVu Sans";
      }
      #filter {
        font-size: 40px;
        width: 100%;
      }
      #chars > div {
        width: 60px;
        height: 60px;
        font-size: 40px;
        float: left;
        border: 1px dotted #ccc;
        text-align: center;
        margin: 3px;
        color: #333;
      }
    </style>
    <title>Unicode Characters</title>
  </head>
  <body ng-app ng-controller="UnicodeCtrl">
    <div>
      <input ng-model="filter" id="filter" placeholder="Filter Criterion"></input>
    </div>
    <div id="chars">
      <div ng-repeat="c in filteredChars()" title="[0x{{c.cpt.toString(16)}}] {{c.n}}" ng-dblclick="gotoFileFormat()">
        {{c.c}}
      </div>
    </div>
  </body>
</html>
